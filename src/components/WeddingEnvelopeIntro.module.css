:root{
  --gold: #c9a84c;
  --gold-dk: #7a5e18;
  --ink: #2c2416;
}

.root{
  position: fixed;
  inset: 0;
  z-index: 9999;
  overflow: hidden;
  background: #0e0b04;
  transition: opacity 1.3s ease;
}

.gone{
  opacity: 0;
  pointer-events: none;
}

.stage{
  position: absolute;
  inset: 0;
  overflow: hidden;
}

.envSvg{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

/* Fills */
.fillBody{ opacity:0; animation: fib .7s ease .05s forwards; }
.fillTop { opacity:0; animation: fib .5s ease  .6s forwards; }
.fillBot { opacity:0; animation: fib .5s ease 1.1s forwards; }
.fillSide{ opacity:0; animation: fib .5s ease 1.4s forwards; }
@keyframes fib{ to{ opacity:1; } }

/* Lines */
.envLine{
  fill: none;
  stroke: var(--gold);
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 4000;
  stroke-dashoffset: 4000;
}
.shadowLeft{
  filter: drop-shadow(-6px 0 6px rgba(0,0,0,.35));
}

.lBorder{ stroke-width: 1.8; opacity:.6; animation: draw 2s ease .1s forwards; }
.lInner { stroke-width: .8; opacity:0; stroke-dasharray: 10 9; animation: fi .5s ease 1.9s forwards; }

.lTl{ stroke-width:1.6; opacity:.55; animation: draw 1.6s ease .7s forwards; }
.lTr{ stroke-width:1.6; opacity:.55; animation: draw 1.6s ease .9s forwards; }
.lBl{ stroke-width:1.4; opacity:.48; animation: draw 1.4s ease 1.2s forwards; }
.lBr{ stroke-width:1.4; opacity:.48; animation: draw 1.4s ease 1.4s forwards; }

@keyframes draw{ to{ stroke-dashoffset: 0; } }
@keyframes fi{ to{ opacity:.28; } }

/* FLAP */
.flapWrap{
  position: fixed;
  inset: 0;
  perspective: 1000px;
  perspective-origin: 50% 0%;
  pointer-events: none;
  z-index: 10;
}

.flapDiv{
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 50vh;
  clip-path: polygon(0 0, 100% 0, 50% 100%);
  background: linear-gradient(175deg, #fefcf8 0%, #faf7f2 45%, #f4f0e8 100%);
  transform-origin: top center;
  transform-style: preserve-3d;
  filter: drop-shadow(0 10px 24px rgba(0,0,0,.22));
  opacity: 0;
  animation: flapIn .5s ease 2s forwards;
  transition: transform 1.25s cubic-bezier(.4,0,.2,1), opacity .6s ease .5s;
}

@keyframes flapIn{ from{opacity:0} to{opacity:1} }

.flapDiv::before{
  content:'';
  position:absolute;
  inset:0;
  clip-path: inherit;
  background: linear-gradient(180deg, rgba(0,0,0,.08) 0%, transparent 50%);
}

.flapBorderSvg{
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 50vh;
  pointer-events: none;
  z-index: 11;
  opacity: 0;
  animation: fi .5s ease 2.1s forwards;
}

.flapBorderLine{
  fill: none;
  stroke: var(--gold);
  stroke-width: 2.2;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: .6;
}

.lift{
  transform: rotateX(-175deg) scaleY(.97);
  opacity: 0;
}

.flapBorderHide{
  opacity: 0 !important;
  transition: opacity .4s ease;
}

/* SEAL */
.seal{
  position: fixed;
  top: calc(50vh - 68px);
  left: 50%;
  transform: translateX(-50%) scale(0) rotate(-20deg);
  width: 136px;
  height: 136px;
  cursor: pointer;
  z-index: 200;
  filter: drop-shadow(0 8px 28px rgba(0,0,0,.65));
  animation: sealPop 1s cubic-bezier(.34,1.56,.64,1) 2.7s forwards;
  transition: opacity .45s ease, transform .45s ease;
}

@keyframes sealPop{
  from{ transform: translateX(-50%) scale(0) rotate(-20deg); }
  to  { transform: translateX(-50%) scale(1) rotate(0deg); }
}

.pulse{ animation: sealPulse 2.4s ease-in-out infinite; }

@keyframes sealPulse{
  0%,100%{ transform: translateX(-50%) scale(1); filter: drop-shadow(0 8px 28px rgba(0,0,0,.65)); }
  50%    { transform: translateX(-50%) scale(1.05); filter: drop-shadow(0 12px 32px rgba(80,100,40,.5)); }
}

/* HINT */
.hint{
  position: fixed;
  top: calc(50vh + 80px);
  left: 50%;
  transform: translateX(-50%);
  font-family: 'Cormorant Garamond', serif;
  font-style: italic;
  font-size: clamp(11px,1.3vw,14px);
  color: var(--gold-dk);
  letter-spacing: .35em;
  white-space: nowrap;
  opacity: 0;
  z-index: 200;
  animation: hintUp 1s ease 4.2s forwards;
  transition: opacity .3s ease;
}

@keyframes hintUp{
  from{ opacity:0; transform: translateX(-50%) translateY(8px); }
  to  { opacity:.65; transform: translateX(-50%) translateY(0); }
}

/* DUST */
.dust{
  position: fixed;
  border-radius: 50%;
  background: var(--gold);
  pointer-events: none;
  z-index: 150;
  animation-name: dustRise;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

@keyframes dustRise{
  0%{ transform: translateY(0) scale(1); opacity:.5 }
  100%{ transform: translateY(-100vh) scale(0); opacity:0 }
}
